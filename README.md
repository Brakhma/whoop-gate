# whoop-gate
Ворота для гонок на маленьких квадрокоптерах.

**hexgate2.ino** Вторая версия прошивки (кнопка и несколько режимов) под LGT8F328P.
**hexgate2_nano.ino** Версия прошивки под Arduino nano (отличается только код проверки напряжения батареи).

**Фичи:**
Ворота работают от одной батарейки (любой 1s литий), я использую 18650, какие-либо регуляторы, стабилизаторы step-up не требуются.
В отличии от ворот на esp минимальное энергопотребление, нет фона на 2,4 GHz
Есть защита от переразряда батарейки (ворота мигают красным на 3в, на 2.9 засыпают) 
7 режимов свечения перелючаемых по кнопке:
**Сканер** (как в гексагонах первой версии) 
**Огонь** Анимация огня горящего с двух сторон ленты навстречу друг другу. Если сложить концы ленты вниз то получится огненное кольцо. 
**Радуга** Плавное изменение цвета по всей ленте
**Фейд** Плавное изменение цвета с затуханием
**Сплошной красный**
**Сплошной зелёный**
**Кометы** По кругу двигаются несколько групп диодов с затухающим хвостом плавно меняющие цвет.

**Советы**
Лента используется пятивольтовая WS2812 + и - ленты на холдер батарейки, data на D2 LGT\Arduino. Кнопка замыкает D3 на землю
Не забудьте указать в коде точное количество диодов.
LGT прошивайте с clock divider 2
Для выхода из режимма "сканер" надо нажать кнопку когда светодиоды возвращаются к началу ленты, либо просто нажать и подождать до завершения анимации.
Ток на воротах зависит от количества диодов и анимации (радуга, фейд, огонь - дороже по энергии, кометы - дешевле)

Если не знаете что такое LGT и как с ней работать, можете почитать тут:
[https://alexgyver.ru/lessons/lgt8f328/](https://alexgyver.ru/lessons/lgt8f328/)
[https://htrd.su/blog/2022/12/04/lgt8fx-lgt8328p/](https://htrd.su/blog/2022/12/04/lgt8fx-lgt8328p/)
[https://arduino.ru/forum/apparatnye-voprosy/obzor-klona-megi328-lgt8f328p](https://arduino.ru/forum/apparatnye-voprosy/obzor-klona-megi328-lgt8f328p)
[http://www.prodesign.com.cn/](http://www.prodesign.com.cn/lgt8f328p/)
